@use '../abstracts/tokens' as *;
@use '../abstracts/mixins' as *;

.modal-overlay {
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  padding: space(2);
  background-color: $color-overlay;
  z-index: $z-index-modal;
}

.modal-overlay.visible {
  display: flex;
}

.modal-dialog {
  width: min(640px, 100%);
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  border-radius: $radius-md;
  background-color: $color-surface;
  box-shadow: $shadow-medium;
  overflow: hidden;
}

.modal-header-fixed {
  display: flex;
  align-items: center;
  gap: space(1);
  padding: space(2);
  border-bottom: $border-width solid $color-border;
}

.modal-product-title {
  flex: 1;
  margin: 0;
  font-size: 1.25rem;
  color: $color-heading;
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
}

.modal-close-btn {
  @include button-reset;
  font-size: 1.5rem;
  color: $color-muted;
  padding: space(0.5);
}

.modal-close-btn:hover,
.modal-close-btn:focus {
  color: $color-heading;
}

.modal-content-scrollable {
  flex: 1 1 auto;
  overflow-y: auto;
  padding: space(2);
}

.modal-product-image-container {
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto space(2);
  max-width: 260px;
}

.modal-product-image-container .modal-product-image {
  width: 100%;
  border-radius: $radius-sm;
  background-color: $color-surface-soft;
  padding: space(1);
}

.modal-product-section {
  margin-bottom: space(2);
}

.modal-product-section:last-child {
  margin-bottom: 0;
}

.modal-product-section h4 {
  margin: 0 0 space(0.75);
  font-size: 1rem;
  font-weight: $font-weight-semibold;
  color: $color-muted;
}

.modal-product-section p,
.modal-product-section ul {
  margin: 0;
  color: $color-text;
  font-size: 0.95rem;
  line-height: 1.6;
}

.modal-product-section ul {
  padding-left: space(2);
}

.modal-product-section li {
  margin-bottom: space(0.75);
}

.modal-product-price-info strong {
  color: $color-accent;
  font-size: 1.05rem;
}

.modal-product-price-info .original-price {
  margin-left: space(0.75);
  color: $color-muted;
  text-decoration: line-through;
}

.modal-footer-fixed {
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-end;
  gap: space(1);
  padding: space(2);
  border-top: $border-width solid $color-border;
  background-color: $color-surface-soft;
}

.modal-action-btn {
  display: inline-flex;
  align-items: center;
  gap: space(0.75);
  padding: space(1) space(1.75);
  border-radius: $radius-sm;
  border: $border-width solid transparent;
  font-size: 0.95rem;
  font-weight: $font-weight-medium;
  cursor: pointer;
  text-decoration: none;
  transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
}

.modal-action-btn .icon-svg {
  width: 18px;
  height: 18px;
}

.modal-action-btn.olx-btn {
  background-color: $color-heading;
  border-color: $color-heading;
  color: $color-inverse;
}

.modal-action-btn.olx-btn:hover,
.modal-action-btn.olx-btn:focus {
  opacity: 0.9;
}

.modal-action-btn.add-to-cart-btn {
  background-color: $color-accent;
  border-color: $color-accent;
  color: $color-inverse;
}

.modal-action-btn.add-to-cart-btn:hover,
.modal-action-btn.add-to-cart-btn:focus {
  background-color: $color-accent-hover;
  border-color: $color-accent-hover;
}

.modal-action-btn:disabled {
  background-color: $color-disabled-bg !important;
  border-color: $color-disabled-bg !important;
  color: $color-disabled-text !important;
  cursor: not-allowed;
  pointer-events: none;
}

@media (max-width: 720px) {
  .modal-dialog {
    width: 100%;
    height: 100vh;
    max-height: none;
    border-radius: 0;
  }

  .modal-overlay {
    padding: 0;
  }

  .modal-footer-fixed {
    justify-content: stretch;
  }

  .modal-action-btn {
    flex: 1 1 100%;
    justify-content: center;
    padding: space(1.25);
  }
}
